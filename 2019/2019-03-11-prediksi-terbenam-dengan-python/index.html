<!DOCTYPE html>
<html lang="en-us">
  <head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noodp"/>
  <meta name="author" content="Muhammad.Yusuf">
  
  
  
  <link rel="prev" href="https://ubutnux.gitlab.io/2019/2019-03-01-gerhana-matahari-cincin-2019/" />
  <link rel="next" href="https://ubutnux.gitlab.io/2019/2019-03-12-prediksi-hilal-dengan-python/" />
  <link rel="canonical" href="https://ubutnux.gitlab.io/2019/2019-03-11-prediksi-terbenam-dengan-python/" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <title>
       
       
           Prediksi Waktu Matahari dan Bulan Terbenam dengan Python | ubutnux.gitlab.io
       
  </title>
  <meta name="title" content="Prediksi Waktu Matahari dan Bulan Terbenam dengan Python | ubutnux.gitlab.io">
    
  
  <link rel="stylesheet" href="/font/iconfont.css">
  <link rel="stylesheet" href="/css/main.min.css">


  
  
 

<script type="application/ld+json">
 "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "https://ubutnux.gitlab.io"
    },
    "articleSection" : "posts",
    "name" : "Prediksi Waktu Matahari dan Bulan Terbenam dengan Python",
    "headline" : "Prediksi Waktu Matahari dan Bulan Terbenam dengan Python",
    "description" : "Impor semua paket yang dibutuhkan from skyfield import api from skyfield import almanac from skyfield.nutationlib import iau2000b  Buat timescale dan unduh ephemeris. Kita akan menggunakan ephemeris dari JPL NASA versi de421.bsp.
timescale = api.load.timescale() ephemeris = api.load('de421.bsp')  Tentukan koodinat di permukaan Bumi di mana prediksi akan dilakukan, sebagai contoh kita gunakan Observatorium Bosscha. Koodinat yang digunakan dalam derajat.
# Observatorium Bosscha 107:37:00 BT; -6:49:50 LS longitude = 107 + 37/60 latitude = -(6 + 49/60 + 50/3600)  Perhitungan posisi Bulan dan Matahari bergantung pada posisi pengamat di Bumi.",
    "inLanguage" : "en-us",
    "author" : "Muhammad.Yusuf",
    "creator" : "Muhammad.Yusuf",
    "publisher": "Muhammad.Yusuf",
    "accountablePerson" : "Muhammad.Yusuf",
    "copyrightHolder" : "Muhammad.Yusuf",
    "copyrightYear" : "2019",
    "datePublished": "2019-03-10 00:00:00 &#43;0000 UTC",
    "dateModified" : "2019-03-10 00:00:00 &#43;0000 UTC",
    "url" : "https://ubutnux.gitlab.io/2019/2019-03-11-prediksi-terbenam-dengan-python/",
    "wordCount" : "279",
    "keywords" : [ "python","astronomi","skyfield","sunset","moonset", "ubutnux.gitlab.io"]
}
</script>

</head>

  


  <body class="">
    <div class="wrapper">
        <nav class="navbar">
    <div class="container">
        <div class="navbar-header header-logo">
        	<a href="javascript:void(0);" class="theme-switch"><span class="inline-svg" ><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M105.2 24.9c-3.1-8.9-15.7-8.9-18.9 0L29.8 199.7h132c-.1 0-56.6-174.8-56.6-174.8zM.9 287.7c-2.6 8 .3 16.9 7.1 22l247.9 184-226.2-294zm160.8-88l94.3 294 94.3-294zm349.4 88l-28.8-88-226.3 294 247.9-184c6.9-5.1 9.7-14 7.2-22zM425.7 24.9c-3.1-8.9-15.7-8.9-18.9 0l-56.6 174.8h132z"/></svg>
</span>
</a>&nbsp;<a href="https://ubutnux.gitlab.io">ubutnux.gitlab.io</a>
        </div>
        <div class="menu navbar-right">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="About">About</a>
                
        </div>
    </div>
</nav>
<nav class="navbar-mobile" id="nav-mobile" style="display: none">
     <div class="container">
        <div class="navbar-header">
            <div>  <a href="javascript:void(0);" class="theme-switch"><span class="inline-svg" ><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M105.2 24.9c-3.1-8.9-15.7-8.9-18.9 0L29.8 199.7h132c-.1 0-56.6-174.8-56.6-174.8zM.9 287.7c-2.6 8 .3 16.9 7.1 22l247.9 184-226.2-294zm160.8-88l94.3 294 94.3-294zm349.4 88l-28.8-88-226.3 294 247.9-184c6.9-5.1 9.7-14 7.2-22zM425.7 24.9c-3.1-8.9-15.7-8.9-18.9 0l-56.6 174.8h132z"/></svg>
</span>
</a>&nbsp;<a href="https://ubutnux.gitlab.io">ubutnux.gitlab.io</a></div>
            <div class="menu-toggle">
                <span></span><span></span><span></span>
            </div>
        </div>
     
          <div class="menu" id="mobile-menu">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="About">About</a>
                
        </div>
    </div>
</nav>
<script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
  });
  MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });

  MathJax.Hub.Config({
  
  TeX: { equationNumbers: { autoNumber: "AMS" } }
  });
</script>



    	 <main class="main">
          <div class="container">
      		
<article class="post-warp" itemscope itemtype="http://schema.org/Article">
    <header class="post-header">
        <h1 class="post-title" itemprop="name headline">Prediksi Waktu Matahari dan Bulan Terbenam dengan Python</h1>
        <div class="post-meta">
                Written by <a itemprop="name" href="https://ubutnux.gitlab.io" rel="author">Muhammad.Yusuf</a> 
                <span class="post-time">
                on <time datetime=2019-03-10 itemprop="datePublished">March 10, 2019</time>
                </span>
                in
                <i class="iconfont icon-folder"></i>
                <span class="post-category">
                        <a href="https://ubutnux.gitlab.io/categories/python/"> python </a>
                        
                </span>
        </div>
    </header>
    <div class="post-content">
        

        

        
        
     
          
          
          

          
          
          

          

<h2 id="impor-semua-paket-yang-dibutuhkan">Impor semua paket yang dibutuhkan</h2>

<pre><code class="language-python">from skyfield import api
from skyfield import almanac
from skyfield.nutationlib import iau2000b
</code></pre>

<p>Buat <em>timescale</em> dan unduh <em>ephemeris</em>. Kita akan menggunakan <em>ephemeris</em> dari JPL NASA versi <em>de421.bsp</em>.</p>

<pre><code class="language-python">timescale = api.load.timescale()
ephemeris = api.load('de421.bsp')
</code></pre>

<p>Tentukan koodinat di permukaan Bumi di mana prediksi akan dilakukan, sebagai contoh kita gunakan Observatorium Bosscha. Koodinat yang digunakan dalam derajat.</p>

<pre><code class="language-python"># Observatorium Bosscha 107:37:00 BT; -6:49:50 LS
longitude = 107 + 37/60
latitude = -(6 + 49/60 + 50/3600)
</code></pre>

<p>Perhitungan posisi Bulan dan Matahari bergantung pada posisi pengamat di Bumi. Oleh karena itu kita perlu menentukan lokasi topografi <em>Skyfield</em> untuk koordinat di atas.</p>

<pre><code class="language-python">bosschaTopo = api.Topos(longitude=longitude, latitude=latitude)
</code></pre>

<h2 id="waktu-terbenam-matahari-dan-bulan">Waktu Terbenam Matahari dan Bulan</h2>

<p>Misalkan ingin menghitung waktu terbenam antara tanggal 5 April dan 6 April 2019.</p>

<pre><code class="language-python">t1 = timescale.utc(2019, 4, 5, 0)
t2 = timescale.utc(2019, 4, 6, 0)
</code></pre>

<p>Paket <em>Skyfield</em> telah menyediakan fungsi untuk menghitung waktu terbenam Matahari. Definisi matahari terbenam yang digunakan paket <em>Skyfield</em> sesuai dengan definisi Matahari terbenam dari USNO, yaitu ketika pusat piringan Matahari berada pada jarak zenit $90^o 50&rsquo;$.</p>

<pre><code class="language-python">sunriset, sunBol = almanac.find_discrete(t1, t2, almanac.sunrise_sunset(ephemeris, bosschaTopo))
</code></pre>

<p>Hasilnya adalah sebuah <em>array</em> waktu, dan <em>array boolean</em> yang akan bernilai <em>True</em> jika matahari terbit dan bernilai <em>False</em> jika matahari terbenam.</p>

<p>Untuk menghitung waktu terbenam Bulan dengan definisi di atas kita dapat membuat fungsi sebagai berikut.</p>

<pre><code class="language-python">def moonrise_moonset(ephemeris, topos):
    moon = ephemeris['moon']
    topos_at = (ephemeris['earth'] + topos).at

    def is_moon_up_at(t):
        t._nutation_angles = iau2000b(t.tt)
        return topos_at(t).observe(moon).apparent().altaz()[0].degrees &gt; -50/60

    is_moon_up_at.rough_period = 0.5 
    return is_moon_up_at
</code></pre>

<pre><code class="language-python">moonriset, moonBol = almanac.find_discrete(t1, t2, moonrise_moonset(ephemeris, bosschaTopo))
</code></pre>

<p>Keluarannya akan mirip dengan format waktu terbenam Matahari.</p>

<h3 id="waktu-terbenam-dalam-julian-date">Waktu terbenam dalam Julian Date</h3>

<p>Waktu terbenam Matahari:</p>

<pre><code class="language-python">sunriset[~sunBol]
</code></pre>

<p>waktu terbenam Bulan</p>

<pre><code class="language-python">moonriset[~moonBol]
</code></pre>

<h3 id="waktu-terbenam-dalam-standar-utc">Waktu terbenam dalam standar UTC</h3>

<pre><code class="language-python">print(sunriset[~sunBol].utc_iso())
print(moonriset[~moonBol].utc_iso())
</code></pre>

<pre><code>['2019-04-05T10:52:48Z']
['2019-04-05T11:02:37Z']
</code></pre>

<h2 id="jupyter-notebook">Jupyter Notebook</h2>

<ul>
<li><a href="https://github.com/ubutnux/riset-hilal/blob/master/Waktu%20Terbenam.ipynb" rel="nofollow noreferrer" target="_blank">Github</a></li>
<li><a href="https://gitlab.com/ubutnux/riset-hilal/blob/master/Waktu%20Terbenam.ipynb" rel="nofollow noreferrer" target="_blank">Gitlab</a></li>
</ul>

    </div>

    <div class="post-copyright">
             
            <p class="copyright-item">
                <span>Author:</span>
                <span>Muhammad.Yusuf </span>
                </p>
            
           
             
            <p class="copyright-item">
                    <span>Link:</span>
                    <a href=https://ubutnux.gitlab.io/2019/2019-03-11-prediksi-terbenam-dengan-python/>https://ubutnux.gitlab.io/2019/2019-03-11-prediksi-terbenam-dengan-python/</span>
            </p>
            
            
    </div>

  
    <div class="post-tags">
        
            <section>
            <i class="iconfont icon-tag"></i>Tag(s): 
            
            <span class="tag"><a href="https://ubutnux.gitlab.io/tags/python/">
                    #python</a></span>
            
            <span class="tag"><a href="https://ubutnux.gitlab.io/tags/astronomi/">
                    #astronomi</a></span>
            
            <span class="tag"><a href="https://ubutnux.gitlab.io/tags/skyfield/">
                    #skyfield</a></span>
            
            <span class="tag"><a href="https://ubutnux.gitlab.io/tags/sunset/">
                    #sunset</a></span>
            
            <span class="tag"><a href="https://ubutnux.gitlab.io/tags/moonset/">
                    #moonset</a></span>
            
            </section>
        
        <section>
                <a href="javascript:window.history.back();">back</a></span> · 
                <span><a href="https://ubutnux.gitlab.io">home</a></span>
        </section>
    </div>

    <div class="post-nav">
        
        <a href="https://ubutnux.gitlab.io/2019/2019-03-01-gerhana-matahari-cincin-2019/" class="prev" rel="prev" title="Prediksi Gerhana Matahari Cincin 2019 Indonesia dengan Python"><i class="iconfont icon-left"></i>&nbsp;Prediksi Gerhana Matahari Cincin 2019 Indonesia dengan Python</a>
         
        
        <a href="https://ubutnux.gitlab.io/2019/2019-03-12-prediksi-hilal-dengan-python/" class="next" rel="next" title="Prediksi Posisi Hilal dengan Python">Prediksi Posisi Hilal dengan Python&nbsp;<i class="iconfont icon-right"></i></a>
        
    </div>

    <div class="post-comment">
          
                 
          
    </div>
</article>
          </div>
		   </main>
      <footer class="footer">
    <div class="copyright">
        &copy;
        
        <span itemprop="copyrightYear">2018 - 2019</span>
        
        <span class="with-love">
	|
         </span>
         
            <span class="author" itemprop="copyrightHolder"><a href="https://ubutnux.gitlab.io">Muhammad.Yusuf</a> </span> 
         

         
    </div>
</footer>












    
    
    <script src="/js/vendor_no_gallery.min.js" async=""></script>
    
  




     </div>
  </body>
</html>
